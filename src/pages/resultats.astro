---
import MainLayout from "@/layouts/MainLayout.astro";
import RightSection, {
  type ButtonLink,
} from "@components/ui/blocks/RightSection.astro";

import tenKmSemHero from "@images/10km-sem-hero.jpg";
import { externalLinks, SITE } from "@data/constants";
import {
  getPageTitle,
  getStructuredDataForPage,
} from "@/utils/structured-data";

interface EventHighlightData {
  title: string;
  subTitle: string;
  links?: ButtonLink[];
  single?: boolean;
  img?: any;
  imgAlt?: string;
  imgOne?: any;
  imgOneAlt?: string;
  imgTwo?: any;
  imgTwoAlt?: string;
  list?: string[];
}

const buttonTitleForPhotos: string = "Photos";
const buttonTitleForResults: string = "Résultats";

const eventsHighlights: EventHighlightData[] = [
  {
    title: "Édition 2024",
    subTitle:
      "L'édition 2024 des chemins du Mélantois a eu lieu le 24 septembre 2024 et a regroupé un total de 784 participants soit le plus grand nombre d’inscrits depuis 8 ans !",
    single: true,
    imgOne: tenKmSemHero, // todo: use another image
    imgOneAlt: "Blueprints and digital tablet with construction plans.",
    list: [
      "349 participants au 10km",
      "184 participants au 900m de Sainghin",
      "72 participants au 900m de Péronne",
      "35 participants au Run & Bike",
      "162 participants au 5km",
    ],
    links: [
      {
        title: buttonTitleForResults,
        url: externalLinks.edition2024.aSportPage,
        openInNewTab: true,
      },
      {
        title: buttonTitleForPhotos,
        url: externalLinks.edition2024.googlePhotoAlbum,
        openInNewTab: true,
      },
    ],
  },
  {
    title: "Édition 2023",
    subTitle:
      "L'édition 2023 des chemins du Mélantois a eu lieu le 17 septembre 2023 et a regroupé un total de 653 participants.",
    single: true,
    imgOne: tenKmSemHero, // todo: use another image
    imgOneAlt: "Blueprints and digital tablet with construction plans.",
    list: [
      "261 Inscrits au 10km",
      "201 Inscrits au 900mde Sainghin",
      "72 Inscrits au 900m de Péronne",
      "14 Inscrits au Run & Bike",
      "105 Inscrits au 5km",
    ],
    links: [
      {
        title: buttonTitleForResults,
        url: externalLinks.event2023.aSportPage,
        openInNewTab: true,
      },
      {
        title: buttonTitleForPhotos,
        url: externalLinks.event2023.googlePhotoAlbum,
        openInNewTab: true,
      },
    ],
  },
  {
    title: "Édition 2022",
    subTitle:
      "L'édition 2022 des chemins du Mélantois a eu lieu le XX septembre 2022 et a regroupé un total de 677 participants.",
    single: true,
    imgOne: tenKmSemHero, // todo: use another image
    imgOneAlt: "Blueprints and digital tablet with construction plans.",
    list: [
      "311 Inscrits au 10km",
      "201 Inscrits au 900m de Sainghin",
      "73 Inscrits au 900m de Péronne",
      "14 Inscrits au 1,5km",
      "78 Inscrits au 5km",
    ],
    links: [
      {
        title: buttonTitleForResults,
        url: externalLinks.event2022.proLiveSportPage,
        openInNewTab: true,
      },
    ],
  },
  {
    title: "Édition 2019",
    subTitle:
      "L'édition 2019 des chemins du Mélantois a eu lieu le XX septembre 2019 et a regroupé un total de 677 participants.",
    single: true,
    imgOne: tenKmSemHero, // todo: use another image
    imgOneAlt: "Blueprints and digital tablet with construction plans.",
    list: [
      "311 Inscrits au 10km",
      "201 Inscrits au 900m de Sainghin",
      "73 Inscrits au 900m de Péronne",
      "14 Inscrits au 1,5km",
      "78 Inscrits au 5km",
    ],
    links: [
      {
        title: buttonTitleForResults,
        url: "#", // todo: export image to google drive
        openInNewTab: true,
      },
    ],
  },
];

const pageTitle = getPageTitle("Résultats & Photos");

const pageDescription =
  "Revivez les éditions précédentes des Chemins du Mélantois à travers les résultats des courses et les albums photos. Découvrez les moments forts, les performances et l’ambiance festive de chaque année.";
---

<MainLayout
  title={pageTitle}
  customDescription={pageDescription}
  customOgTitle={pageTitle}
  structuredData={getStructuredDataForPage(pageDescription)}
>
  {
    eventsHighlights.map((eventHighlight) => {
      return (
        <RightSection
          title={eventHighlight.title}
          subTitle={eventHighlight.subTitle}
          single={eventHighlight.single}
          imgOne={eventHighlight.imgOne}
          imgOneAlt={eventHighlight.imgOneAlt}
          list={eventHighlight.list || []}
          links={eventHighlight.links}
        />
      );
    })
  }
</MainLayout>
